<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>2. Environmental data</title>

<script src="site_libs/header-attrs-2.8/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">SDM Course</a>
</li>
<li>
  <a href="syllabus.html">Course schedule</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R exercises
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Exercise1.html">1. Species data</a>
    </li>
    <li>
      <a href="Exercise2.html">2. Environment data</a>
    </li>
    <li>
      <a href="Exercise3.html">3. SDMs: evaluation</a>
    </li>
    <li>
      <a href="Exercise4.html">4. SDMs: algorithms</a>
    </li>
  </ul>
</li>
<li>
  <a href="Resources.html">Resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">2. Environmental data</h1>

</div>


<p><span class="math inline">\(~\)</span></p>
<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>In this exercise, you will:</p>
<ul>
<li>Familiarize yourself with a variety of spatial environmental data resources</li>
<li>Download and manage spatial environmental data</li>
</ul>
<p>Note that this exercise gives only a very quick overview. For more detailed background and practice, I highly recommend these lessons from Software Carpentry:</p>
<ul>
<li><a href="https://datacarpentry.org/organization-geospatial/">Introduction to Geospatial Concepts</a></li>
<li><a href="https://datacarpentry.org/r-intro-geospatial/">Introduction to R for Geospatial Data</a></li>
<li><a href="https://datacarpentry.org/r-raster-vector-geospatial/">Introduction to Geospatial Raster and Vector Data with R</a></li>
</ul>
<p><span class="math inline">\(~\)</span></p>
</div>
<div id="getting-started" class="section level3">
<h3>Getting Started</h3>
<p>As with species occurrence data, it is critical to begin by thinking carefully about the variables you will use to build your models. Key questions include:</p>
<ul>
<li><em>What is the biological process I am trying to understand?</em></li>
<li><em>What are the environmental conditions that might affect this process?</em></li>
<li><em>What is the spatial / temporal scale that is relevant for my question?</em></li>
</ul>
<p>Clear answers to these questions will help you immensely in the modeling process and beyond.</p>
<p><span class="math inline">\(~\)</span></p>
</div>
<div id="data-availability" class="section level3">
<h3>Data availability</h3>
<p>There is a wide range of environmental variables readily available for download. The list below mentions some of the most commonly used sources (that cover the global scale) but remember that there may be higher resolution or higher quality data sets available for a particular study area. Take a little time to explore the links that seem most relevant to your interests and then proceed to the next section, <strong>Working with raster data in R</strong>.</p>
<ul>
<li>Climate
<ul>
<li><a href="https://chelsa-climate.org/">Chelsa</a>: interpolated climate variables at ~1km resolution, includes climate layers for various time periods and variables, ranging from the Last glacial maximum, to current times, to several future scenarios.</li>
<li><a href="https://www.worldclim.org/">WorldClim</a>: interpolated climate variables at variable resolutions, including historical climate and weather as well as climate under several future scenarios.</li>
<li><a href="http://envirem.github.io/">ENVIREM</a>: numerous derived climatic and topographic variables (e.g., annual potential evapotranspiration, growing degree days).</li>
</ul></li>
<li>Elevation / topography
<ul>
<li><a href="https://www.usgs.gov/centers/eros/science/usgs-eros-archive-digital-elevation-shuttle-radar-topography-mission-srtm-non?qt-science_center_objects=0#qt-science_center_objects">STRM elevation</a>: Data from the Shuttle Radar Topography Mission used to generate elevation data with a global resolution of 3 arc-seconds (~90 m).</li>
</ul></li>
<li>Land-use / land-cover
<ul>
<li><a href="https://land.copernicus.eu/global/content/annual-100m-global-land-cover-maps-available">Global Land</a> produced a global 100 m land cover map for 2015.</li>
<li><a href="https://www.usgs.gov/core-science-systems/nli/landsat/global-land-survey-gls?qt-science_support_page_related_con=0#">The Global Land Survey (GLS)</a> were created as a collaboration between NASA and the USGS from 2009 through 2011.</li>
</ul></li>
<li>Soils
<ul>
<li>The <a href="http://www.fao.org/soils-portal/data-hub/soil-maps-and-databases/harmonized-world-soil-database-v12/en/">Harmonized World Soil Database</a> is a 30 arc-second raster database with over 15000 different soil mapping units that combines existing regional and national updates of soil information worldwide.</li>
<li><a href="https://www.isric.org/explore/soilgrids">SoilGrids</a> is a system for global digital soil mapping that uses machine learning methods to map the global distribution of soil properties.</li>
</ul></li>
</ul>
<p>*Note: working with large and high resolution raster data in R can lead to computational challenges, which are outside the scope of this exercise. Some of the datasets listed above are very large and so you need to select a certain region before downloading.</p>
<p>**Note: The resources above are heavily biased towards terrestrial ecosystems. For marine variables, see <a href="https://www.youtube.com/watch?v=UxaOwrZXMDo">this video lecture by Hannah Owens</a> (data sources are covered in the 2nd half).</p>
<p>In general, the resources above can be downloaded from the web, saved to your computer, and later read into R for visualization and analysis. Alternatively, there are several R packages that allow you to download some of these data sources directly in R. For example:</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/raster/raster.pdf">raster</a> (the <code>getData</code> function)</li>
<li><a href="https://github.com/MirzaCengic/climatedata">climatedata</a></li>
<li><a href="https://github.com/matthewkling/chelsaDL">chelsaDL</a></li>
<li><a href="https://github.com/mikejohnson51/climateR">climateR</a></li>
<li><a href="https://github.com/dlebauer/rhwsd/">rhwsd</a>: package for working with the Harmonized World Soil Database. Also see <a href="http://www.css.cornell.edu/faculty/dgr2/_static/files/R_PDF/R_HWSD.pdf">this tutorial</a>.</li>
</ul>
<p><span class="math inline">\(~\)</span></p>
</div>
<div id="working-with-raster-data-in-r" class="section level3">
<h3>Working with raster data in R</h3>
<p>For the rest of this exercise, you should work through <a href="https://www.neonscience.org/resources/learning-hub/tutorials/raster-data-r">this tutorial from NEON</a>. To start, you will need to:</p>
<ul>
<li>Make sure you have the <code>raster</code> and <code>rgdal</code> packages installed</li>
<li>Download the data for the exercise <a href="https://ndownloader.figshare.com/files/7907590">here</a></li>
</ul>
<p><span class="math inline">\(~\)</span></p>
</div>
<div id="other-resources" class="section level3">
<h3>Other resources</h3>
<p>The following series of video lectures (from the ENM2020 course organized by T. Peterson) provide much more background on environmental data for SDMs/ENMs:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=iXt0gCuM0Zk">Overview of environmental data by Sara Varela</a></li>
<li><a href="https://www.youtube.com/watch?v=I8N9qHcCPyk">Climate variables by Dirk Karger</a></li>
<li><a href="https://youtu.be/icuYr8Z3ewg">Soils data by Gabriela Zuquim</a></li>
<li><a href="https://www.youtube.com/watch?v=UxaOwrZXMDo">Marine environment data by Hannah Owens</a></li>
<li><a href="https://youtu.be/BQauisbsMsA">Topographic data by Giuseppe Amatuli</a></li>
<li><a href="https://youtu.be/XSvIXogf2wY">Paleoclimate data Erin Saupe</a></li>
</ul>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
